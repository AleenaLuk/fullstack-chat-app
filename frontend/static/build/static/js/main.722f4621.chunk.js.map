{"version":3,"sources":["Navbar/Navbar.js","Registration/Registration.js","Login/Login.js","ChatDetail/ChatDetail.js","ChatForm/ChatForm.js","ChatList/ChatList.js","App/App.js","reportWebVitals.js","index.js"],"names":["Navbar","props","className","href","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","onClick","handleNavigation","isAuth","handleLogout","Registration","state","username","email","password1","password2","handleInput","bind","handleSubmit","event","this","setState","target","name","value","preventDefault","handleRegistration","onSubmit","htmlFor","onChange","aria-describedby","Component","Login","password","handleLogin","ChatDetail","message","text","user","ChatForm","handleNewChat","fetchUser","a","handleError","err","console","warn","fetch","catch","response","ok","json","data","test","pk","Fragment","for","rows","cols","ChatList","messages","fetchMessages","addMessage","removeMessage","updateMessage","messageInterval","setInterval","clearInterval","chat","map","App","selection","Cookies","get","options","method","headers","body","JSON","stringify","set","key","log","remove","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.722f4621.chunk.js","sourcesContent":["function Navbar(props) {\n  return(\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light mb-5\">\n      <div className=\"container-fluid\">\n        <a className=\"navbar-brand\" href=\"/\">CHAT APP</a>\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <button className=\"btn\" onClick={() => props.handleNavigation('chats')}>Home</button>\n            </li>\n            {props.isAuth\n              ?\n                <li className=\"nav-item\">\n                  <button className=\"btn\" onClick={() => props.handleLogout()}>Logout</button>\n                </li>\n              :\n                <>\n                  <li className=\"nav-item\">\n                    <button className=\"btn\" onClick={() => props.handleNavigation('login')}>Login</button>\n                  </li>\n                  <li className=\"nav-item\">\n                    <button className=\"btn\" onClick={() => props.handleNavigation('register')}>Registration</button>\n                  </li>\n                </>\n            }\n          </ul>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar;\n","import { Component } from 'react';\n\nclass Registration extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      email: '',\n      password1: '',\n      password2: '',\n    }\n\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInput(event) {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.handleRegistration(this.state);\n  }\n\n  render() {\n    return (\n      <form className=\"col-8\" onSubmit={this.handleSubmit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"username\" className=\"form-label\">Username</label>\n          <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\" onChange={this.handleInput} />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"email\" className=\"form-label\">Email address</label>\n          <input type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\" name=\"email\" onChange={this.handleInput} />\n          <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password1\" className=\"form-label\">Password</label>\n          <input type=\"password\" className=\"form-control\" id=\"password1\" name=\"password1\" onChange={this.handleInput} />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password2\" className=\"form-label\">Confirm Password</label>\n          <input type=\"password\" className=\"form-control\" id=\"password2\" name=\"password2\" onChange={this.handleInput} />\n        </div>\n        <div className=\"d-flex\">\n          <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n          <button type=\"button\" className=\"btn btn-link ms-auto\" onClick={() => this.props.handleNavigation('login')}>Already have an account? Login</button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport default Registration;\n","import { Component } from 'react';\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n    }\n\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInput(event) {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.handleLogin(this.state);\n  }\n\n  render() {\n    return (\n      <form className=\"col-8\" onSubmit={this.handleSubmit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"username\" className=\"form-label\">Username</label>\n          <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\" onChange={this.handleInput} />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"email\" className=\"form-label\">Email address</label>\n          <input type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\" name=\"email\" onChange={this.handleInput} />\n          <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password\" className=\"form-label\">Password</label>\n          <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" onChange={this.handleInput} />\n        </div>\n        <div className=\"d-flex\">\n          <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n          <button type=\"button\" className=\"btn btn-link ms-auto\" onClick={() => this.props.handleNavigation('register')}>Need an account? Register</button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport default Login;\n","import {Component} from 'react';\n\nclass ChatDetail extends Component {\n  render() {\n    return(\n      <li>\n        <p>{this.props.message.text}</p>\n        <p>{this.props.message.user}</p>\n      </li>\n    )\n  }\n}\n\nexport default ChatDetail;\n","import React, { Component } from 'react';\n\nclass ChatForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: '',\n      user: '',\n    }\n\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInput(event) {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.handleNewChat(this.state);\n    this.fetchUser();\n  }\n\n  async fetchUser() {\n    const handleError = (err) => console.warn(err);\n    const response = await fetch('/rest-auth/user/').catch(handleError);\n    if(response.ok) {\n      const data = await response.json().catch(handleError);\n      this.setState({\n        test: data,\n        user: data.pk\n      });\n    }\n  }\n\n\n  render() {\n    return(\n      <React.Fragment>\n        <form className=\"col-8\" onSubmit={this.handleSubmit}>\n        <logo for=\"w3review\">Chat</logo>\n         <textarea id=\"w3review\" rows=\"20\" cols=\"60\" name=\"text\" onChange={this.handleInput}>\n          </textarea>\n          <div className=\"d-flex\">\n            <button type=\"submit\" className=\"button-7\">Submit</button>\n          </div>\n        </form>\n     </React.Fragment>\n    )\n  }\n}\nexport default ChatForm;\n","import { Component } from 'react';\n\nimport ChatDetail from './../ChatDetail/ChatDetail';\nimport ChatForm from './../ChatForm/ChatForm';\n\nclass ChatList extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messages: [],\n    }\n\n    this.fetchMessages = this.fetchMessages.bind(this);\n    this.addMessage = this.addMessage.bind(this);\n    this.removeMessage = this.removeMessage.bind(this);\n    this.updateMessage = this.updateMessage.bind(this);\n  }\n\n  componentDidMount() {\n    const messageInterval = setInterval(this.fetchMessages, 1000);\n    this.setState({ messageInterval });\n  }\n\n  componentWillUnmount() {\n    // https://reactjs.org/docs/state-and-lifecycle.html#adding-lifecycle-methods-to-a-class\n    clearInterval(this.state.messageInterval);\n  }\n\n  async fetchMessages() {\n    const handleError = (err) => console.warn(err);\n    const response = await fetch('/api/v1/chats/').catch(handleError);\n    if(response.ok) {\n      const data = await response.json().catch(handleError);\n      this.setState({messages: data});\n    }\n  }\n\n\n  async addMessage(chat) {\n    this.props.handleNewChat(chat);\n  }\n\n  async removeMessage(event) {\n      event.preventDefault();\n      this.props.removeMessage(this.state);\n    }\n\n\n  async updateMessage() {\n\n  }\n\n  render() {\n    const messages = this.state.messages.map(message => (\n      <ChatDetail key={message.id} message={message} removeMessage={this.removeMessage} updateMessage={this.updateMessage}/>\n    ))\n    return(\n\n      <>\n        <ChatForm handleNewChat={this.addMessage}/>\n        <ul>{messages}</ul>\n      </>\n    )\n  }\n}\n\nexport default ChatList;\n","import { Component } from 'react';\n\nimport Cookies from 'js-cookie';\n\nimport Navbar from './../Navbar/Navbar';\n\nimport Registration from './../Registration/Registration';\nimport Login from './../Login/Login';\n\nimport ChatList from './../ChatList/ChatList';\n\nimport './App.css';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selection: !!Cookies.get('Authorization') ? 'chats' : 'login'\n    }\n\n    this.handleNavigation = this.handleNavigation.bind(this);\n    this.handleRegistration = this.handleRegistration.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handleNewChat = this.handleNewChat.bind(this);\n  }\n\n\n  handleNavigation(selection) {\n    this.setState({ selection });\n  }\n\n  async handleRegistration(user) {\n    const options = {\n     method: 'POST',\n     headers: {\n       'Content-Type': 'application/json',\n        'X-CSRFToken': Cookies.get('csrftoken'),\n     },\n     body: JSON.stringify(user),\n    };\n\n    const handleError = (err) => console.warn(err);\n    const response = await fetch('/rest-auth/registration/', options).catch(handleError);\n\n    if(response.ok) {\n      const data = await response.json().catch(handleError);\n      Cookies.set('Authorization', `Token ${data.key}`);\n      this.setState({ selection: 'chats' });\n    }\n  }\n\n  async handleLogin(user) {\n    const options = {\n     method: 'POST',\n     headers: {\n       'Content-Type': 'application/json',\n        'X-CSRFToken': Cookies.get('csrftoken'),\n     },\n     body: JSON.stringify(user),\n    };\n\n    const handleError = (err) => console.warn(err);\n    const response = await fetch('/rest-auth/login/', options).catch(handleError);\n\n    if(response.ok) {\n      console.log('response', response)\n      const data = await response.json().catch(handleError);\n      Cookies.set('Authorization', `Token ${data.key}`);\n      this.setState({ selection: 'chats' });\n    }\n  }\n\n  async handleLogout() {\n    const options = {\n     method: 'POST',\n     headers: {\n       'Content-Type': 'application/json',\n       'X-CSRFToken': Cookies.get('csrftoken'),\n     },\n    };\n\n    const handleError = (err) => console.warn(err);\n    const response = await fetch('/rest-auth/logout/', options).catch(handleError);\n\n    if(response.ok) {\n      Cookies.remove('Authorization');\n      this.setState({ selection: 'login' });\n    }\n  }\n\n  async handleNewChat(chat) {\n    console.log('text', chat)\n    const options = {\n     method: 'POST',\n     headers: {\n       'Content-Type': 'application/json',\n        'X-CSRFToken': Cookies.get('csrftoken'),\n     },\n     body: JSON.stringify(chat),\n    };\n\n    const handleError = (err) => console.warn(err);\n    const response = await fetch('/api/v1/chats/', options).catch(handleError);\n\n    if(response.ok) {\n      const data = await response.json().catch(handleError);\n      Cookies.set('Authorization', `Token ${data.key}`);\n      this.setState({ selection: 'chats' });\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"justify-content-center row\">\n        <Navbar handleNavigation={this.handleNavigation} isAuth={this.state.selection === 'chats'} handleLogout={this.handleLogout}/>\n        {this.state.selection === 'login' && <Login handleNavigation={this.handleNavigation} handleLogin={this.handleLogin}/>}\n        {this.state.selection === 'register' && <Registration handleNavigation={this.handleNavigation} handleRegistration={this.handleRegistration}/>}\n        {this.state.selection === 'chats' && <ChatList handleNewChat={this.handleNewChat} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}